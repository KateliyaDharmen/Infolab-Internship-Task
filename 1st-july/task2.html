<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Task 2</title>
    <style>
        table {
            border-collapse: collapse;
            width: 100%;
            max-width: 800px;
            margin: 20px auto;
        }
        th, td {
            border: 1px solid black;
            padding: 8px;
            text-align: left;
        }
        th {
            background-color: #f2f2f2;
        }
    </style>
</head>

<body>
    <table>
        <thead>
            <tr>
                <th>SR NO</th>
                <th>STATE NAME</th>
                <th>CONFIRMED CASES</th>
                <th>RECOVERED CASES</th>
                <th>DEATH CASES</th>
            </tr>
        </thead>
        <tbody id="tableData">

        </tbody>
    </table>
    <script>
        //API : https://data.covid19india.org/data.json
        async function getTheData() {
            try {
                const response = await fetch('https://data.covid19india.org/data.json');
                //console.log(typeof (response));
                const data = await response.json();
                console.log(data)
                const tableData = document.querySelector("#tableData");

                data.statewise.forEach((state, index) => {
                    const row = tableData.insertRow();
                        row.insertCell(0).textContent = index;
                        row.insertCell(1).textContent = state.state;
                        row.insertCell(2).textContent = state.confirmed;
                        row.insertCell(3).textContent = state.recovered;
                        row.insertCell(4).textContent = state.deaths;
                })
            } catch (error) {
                document.write("Error");
            }
        }
        getTheData();
    </script>
</body>

</html>